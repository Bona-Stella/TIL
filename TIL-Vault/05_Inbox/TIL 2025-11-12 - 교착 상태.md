---
created: 2025-11-12 02:20
updated: 2025-11-12 02:20
status:
  - draft
tags:
  - CPU
  - Concurrency
source: "-"
---
# 📝 TIL 2025-11-12 - 교착 상태

> **관련 주제:** [[MOC_TBD]] 

## 🚀 개요 및 핵심 (Summary)

## 🤝 교착 상태 해결 방법

교착 상태는 [**상호 배제**], [**점유와 대기**], [**비선점**], [**순환 대기**]라는 4가지 필요 조건이 모두 충족될 때 발생하며, 이 중 하나라도 부정함으로써 해결을 시도합니다. 해결 방법은 크게 네 가지 접근으로 나뉨

---

## 📚 상세 내용 (Deep Dive)

교착 상태를 일으키는 4가지 조건 중 **하나 이상을 제거**하여 교착 상태 발생 가능성을 원천적으로 봉쇄합니다.

- **상호 배제 부정:** 자원을 공유 가능하게 만들지만, 현실적으로 많은 자원(예: 프린터, 파일 쓰기)은 공유될 수 없어 적용하기 어렵습니다.
 <br>
- **점유와 대기 부정:** 프로세스가 실행되기 전에 필요한 모든 자원을 한 번에 할당받거나, 자원이 하나도 없을 때만 새로운 자원을 요청하게 합니다. **자원 활용률이 낮아지고 기아 상태가 발생할 수 있습니다.**
<br>
- **비선점 부정:** 자원을 점유하고 있는 프로세스가 다른 자원을 요청하고 할당받을 수 없으면, 현재 점유한 자원을 **반납(선점 허용)**하도록 합니다. 이는 구현이 복잡하고 일반적인 자원에는 적용이 어려울 수 있습니다.
<br>
- **순환 대기 부정:** 자원 유형에 순서를 매겨, 프로세스가 현재 점유한 자원보다 **더 높은 순서의 자원만** 요청하도록 제한합니다.
## 🚦 교착 상태 발생 조건 상세 설명

교착 상태는 이 네 가지 조건이 **모두 충족**될 때 발생합니다. 이 중 하나라도 깨지면 교착 상태는 일어나지 않습니다.

### 1. 상호 배제 (Mutual Exclusion)

- **설명:** 자원은 한 번에 **하나의 프로세스**만 사용할 수 있어야 합니다. 즉, 다른 프로세스가 사용 중인 자원은 절대 침범할 수 없습니다.
    <br>
- **쉬운 예시:** 화장실을 한 명이 사용 중일 때는 다른 사람은 들어갈 수 없습니다. (배타적인 사용)
    <br>
- **교착 상태와의 관계:** 이 조건이 없으면(자원을 모두 공유할 수 있으면) 대기할 필요가 없어지므로 교착 상태가 일어나지 않습니다. 하지만 프린터나 파일 쓰기와 같은 일부 자원은 본질적으로 공유될 수 없어 이 조건은 **대부분 유지**됩니다.
### 2. 점유와 대기 (Hold and Wait)

- **설명:** 이미 **하나 이상의 자원을 점유(Hold)**하고 있는 프로세스가, 다른 프로세스가 사용 중인 **추가적인 자원을 요청하고 대기(Wait)**하는 상태여야 합니다.
    <br>
- **쉬운 예시:** 프린터(자원 A)를 잡고 있는 상태에서, 스캐너(자원 B)를 요청하며 스캐너가 비워지기를 기다리는 경우.
    <br>
- **교착 상태 해결 방법 (부정):** 프로세스가 실행 전 필요한 모든 자원을 한 번에 할당받거나(모든 자원을 점유하기 전까지는 대기만 함), 또는 아무 자원도 점유하지 않고 있을 때만 새로운 자원을 요청하게 하여 이 조건을 제거합니다.
### 3. 비선점 (No Preemption)

- **설명:** 한 프로세스가 이미 할당받아 사용 중인 자원은, 해당 프로세스가 스스로 사용을 **끝내고 자발적으로 반납**하기 전까지는 **다른 프로세스가 강제로 빼앗을 수 없습니다**.
    <br>
- **쉬운 예시:** 책상(자원)에서 작업을 하는 사람이 스스로 자리를 비울 때까지는, 다른 사람이 그 자리를 강제로 차지할 수 없는 것과 같습니다.
    <br>
- **교착 상태 해결 방법 (부정):** 자원을 요청했으나 할당받지 못하고 대기해야 할 때, 현재 점유하고 있는 자원들을 **일시적으로 반납(선점 허용)**하도록 하여 이 조건을 제거합니다.
### 4. 순환 대기 (Circular Wait)

- **설명:** 자원을 기다리는 프로세스들이 **원형(순환)의 고리 형태**로 엮여 있어야 합니다.
    
    - 프로세스 $P_1$은 $P_2$가 점유한 자원을 기다리고,
        
    - $P_2$는 $P_3$가 점유한 자원을 기다리고,
        
    - ...
        
    - 최종적으로 $P_n$은 다시 **$P_1$이 점유한 자원을 기다리는** 상황입니다.
        <br>
- **쉬운 예시:**
    
    - 사람 A는 컵을 잡고 포크를 기다리고,
        
    - 사람 B는 포크를 잡고 컵을 기다리는 상황.
        
    - (서로가 서로의 자원을 끝없이 기다리는 고리 형태)
        <br>
- **교착 상태 해결 방법 (부정):** 시스템 내의 모든 자원에 순서를 매기고, 프로세스가 현재 점유한 자원보다 **더 높은 순서의 자원만** 요청하도록 강제하여 순환 고리 자체를 형성하지 못하도록 막습니다.
---
created: 2025-11-14 23:57
updated: 2025-11-14 23:57
status:
  - draft
tags:
source:
---
# π“ TIL 2025-11-14 - HTTP μ”μ²­ μ²λ¦¬ μ›ν¬ν”λ΅μ°

> **κ΄€λ ¨ μ£Όμ :** [[MOC_TBD]] 

## π€ κ°μ” λ° ν•µμ‹¬ (Summary)

RESTful API κΈ°μ¤€μΌλ΅ HTTP μ”μ²­μ΄ ν΄λΌμ΄μ–ΈνΈμ—μ„ λ°μƒν•μ—¬ WASλ¥Ό κ±°μ³ μ²λ¦¬λκ³  JSON/XML μ‘λ‹µμ΄ λ°ν™λλ” μ›ν¬ν”λ΅μ°λ” κΈ°μ΅΄ MVC λ°©μ‹κ³Ό λ‹¬λ¦¬ **λ·° λ λ”λ§ λ‹¨κ³„λ¥Ό κ±΄λ„λ›°κ³ ** λ°μ΄ν„°λ¥Ό μ§μ ‘ λ°ν™ν•λ” λ° μ¤‘μ μ„ λ‘΅λ‹λ‹¤.

---

## π“ μƒμ„Έ λ‚΄μ© (Deep Dive)

### 1. π›« μ”μ²­ λ°μƒ λ° WAS μ§„μ…

|**λ‹¨κ³„**|**μ£Όμ²΄**|**μ—­ν• **|
|---|---|---|
|**μ”μ²­ λ°μƒ**|**ν΄λΌμ΄μ–ΈνΈ**|HTTP μ”μ²­(GET, POST λ“±)μ„ μƒμ„±ν•©λ‹λ‹¤. μ”μ²­ ν—¤λ”μ— `Accept: application/json` λ“±μ„ ν¬ν•¨ν•μ—¬ λ°μ΄ν„° ν•μ‹μ„ λ…μ‹ν•  μ μμµλ‹λ‹¤.|
|**WAS μμ‹ **|**WAS** (Tomcat/Jetty)|μ”μ²­μ„ μμ‹ ν•κ³ , μ²λ¦¬ μ¤λ λ“μ™€ `HttpServletRequest`/`HttpServletResponse` κ°μ²΄λ¥Ό μƒμ„±ν•©λ‹λ‹¤.|
### 2. π¦ DispatcherServlet μ²λ¦¬ (Front Controller)

μ”μ²­μ΄ **DispatcherServlet**μΌλ΅ μ „λ‹¬λμ–΄ ν•Έλ“¤λ¬λ¥Ό μ°Ύμµλ‹λ‹¤.

| **λ‹¨κ³„**      | **μ£Όμ²΄**                                             | **μ—­ν• **                                                                      |
| ----------- | -------------------------------------------------- | --------------------------------------------------------------------------- |
| **μ”μ²­ μ „λ‹¬**   | **WAS $\rightarrow$ DispatcherServlet**            | λ¨λ“  μ”μ²­μ΄ **DispatcherServlet**μΌλ΅ λΌμ°ν…λ©λ‹λ‹¤.                                      |
| **ν•Έλ“¤λ¬ λ§¤ν•‘**  | **DispatcherServlet $\rightarrow$ HandlerMapping** | μ”μ²­ URLκ³Ό HTTP λ©”μ„λ“(GET/POST)λ¥Ό κΈ°λ°μΌλ΅ `@RestController` λ‚΄μ **μ”μ²­ μ²λ¦¬ λ©”μ„λ“**λ¥Ό μ°Ύμ•„λƒ…λ‹λ‹¤. |
| **μΈν„°μ…‰ν„°/ν•„ν„°** | **HandlerExecutionChain**                          | **HandlerInterceptor**λ‚ **Servlet Filter**κ°€ μΈμ¦, κ¶ν• ν™•μΈ, λ΅κΉ… λ“±μ μ „μ²λ¦¬ λ΅μ§μ„ μν–‰ν•©λ‹λ‹¤. |
| **ν•Έλ“¤λ¬ μ‹¤ν–‰**  | **DispatcherServlet $\rightarrow$ HandlerAdapter** | **HandlerAdapter**κ°€ ν•Έλ“¤λ¬(Controller λ©”μ„λ“)λ¥Ό νΈμ¶ν•©λ‹λ‹¤.                             |
|             |                                                    |                                                                             |
### 3. π’» ν•Έλ“¤λ¬(Controller) λ° λΉ„μ¦λ‹μ¤ λ΅μ§ μ‹¤ν–‰

|**λ‹¨κ³„**|**μ£Όμ²΄**|**μ—­ν• **|
|---|---|---|
|**μ”μ²­ μ²λ¦¬**|**ν•Έλ“¤λ¬ (`@RestController` λ©”μ„λ“)**|URL, μ”μ²­ λ³Έλ¬Έ(JSON) λ“±μ„ λ©”μ„λ“ μΈμλ΅ λ°”μΈλ”©ν•κ³ , **Service** κ³„μΈµμ„ νΈμ¶ν•μ—¬ λ΅μ§μ„ μν–‰ν•©λ‹λ‹¤.|
|**λΉ„μ¦λ‹μ¤ μ‹¤ν–‰**|**Service & Repository**|Serviceμ—μ„ λΉ„μ¦λ‹μ¤ λ΅μ§μ„ μ²λ¦¬ν•κ³ , Repositoryλ¥Ό ν†µν•΄ DBμ™€ ν†µμ‹ ν•©λ‹λ‹¤.|
|**κ²°κ³Ό λ°ν™**|**ν•Έλ“¤λ¬ (Controller)**|μ²λ¦¬ κ²°κ³Ό κ°μ²΄(Java POJO)λ¥Ό λ°ν™ν•©λ‹λ‹¤. (μ: `User` κ°μ²΄, `List<Item>` κ°μ²΄ λ“±)|
### 4. π”— μ‘λ‹µ λ³€ν™ λ° λ°ν™ (ν•µμ‹¬ REST λ‹¨κ³„)

REST API μ›ν¬ν”λ΅μ°μ—μ„ **λ·° λ λ”λ§ λ€μ‹  λ°μ΄ν„° λ³€ν™**μ΄ μΌμ–΄λ‚©λ‹λ‹¤.

|**λ‹¨κ³„**|**μ£Όμ²΄**|**μ—­ν• **|
|---|---|---|
|**λ°μ΄ν„° λ³€ν™**|**DispatcherServlet $\rightarrow$ HttpMessageConverter**|Controllerκ°€ λ°ν™ν• Java κ°μ²΄(POJO)λ¥Ό **HttpMessageConverter**κ°€ κ°€λ΅μ±•λ‹λ‹¤.|
|**μ§λ ¬ν™”**|**HttpMessageConverter**|μ΄ μ»¨λ²„ν„°(μ: Jackson λΌμ΄λΈλ¬λ¦¬)λ” Java κ°μ²΄λ¥Ό ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­ν• ν•μ‹(λ€λ¶€λ¶„ **JSON**)μ **λ°”μ΄νΈ μ¤νΈλ¦Ό**μΌλ΅ μ§λ ¬ν™”ν•©λ‹λ‹¤. μ΄ κ³Όμ •μ€ **`@ResponseBody`** λλ” **`@RestController`** μ–΄λ…Έν…μ΄μ…μ— μν•΄ ν™μ„±ν™”λ©λ‹λ‹¤.|
|**μ‘λ‹µ μƒμ„±**|**DispatcherServlet**|μ§λ ¬ν™”λ λ°μ΄ν„° μ¤νΈλ¦Όμ„ HTTP μ‘λ‹µ λ³Έλ¬Έ(`Response Body`)μ— μ‚½μ…ν•©λ‹λ‹¤. μ‘λ‹µ ν—¤λ”μ— `Content-Type: application/json`μ„ μ„¤μ •ν•©λ‹λ‹¤.|
|**μµμΆ… λ°ν™**|**WAS $\rightarrow$ ν΄λΌμ΄μ–ΈνΈ**|WASκ°€ HTTP μ‘λ‹µμ„ ν΄λΌμ΄μ–ΈνΈμ—κ² μµμΆ…μ μΌλ΅ μ „μ†΅ν•©λ‹λ‹¤.|
### π¨ μμ™Έ μ²λ¦¬ λ²”μ„ (λ§¤μ° μ¤‘μ”)

|**μ„μΉ**|**μμ™Έ λ°μƒ λ²”μ„**|**μ²λ¦¬ μ „λµ**|
|---|---|---|
|**Filter λ° WAS**|**Spring μ™Έλ¶€** (μ„λΈ”λ¦Ώ μ»¨ν…μ΄λ„ μμ—­)|**μμ²΄ μ²λ¦¬** (`try-catch` ν›„ `HttpServletResponse` μ§μ ‘ κµ¬μ„±) **λλ”** Springμ **`@ControllerAdvice`**λ΅ μ”μ²­μ„ **ν¬μ›λ”©**ν•μ—¬ ν•΄κ²°.|
|**DispatcherServlet μ΄ν›„**|**Spring λ‚΄λ¶€** (Interceptor, Controller, Service λ“±)|**`@ControllerAdvice`**μ— μν•΄ **μΌκ΄„μ μΌλ΅ μ²λ¦¬**λ¨.|
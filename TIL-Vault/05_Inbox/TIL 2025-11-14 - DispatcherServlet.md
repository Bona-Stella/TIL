---
created: 2025-11-14 23:47
updated: 2025-11-14 23:47
status:
  - draft
tags:
source:
---
# π“ TIL 2025-11-14 - DispatcherServlet

> **κ΄€λ ¨ μ£Όμ :** [[MOC_TBD]] 

## π€ κ°μ” λ° ν•µμ‹¬ (Summary)

## π¦ Spring Web MVCμ Dispatcher Servlet λ™μ‘ μ›λ¦¬

**Dispatcher Servlet**μ€ Spring Web MVCμ—μ„ **κ°€μ¥ ν•µμ‹¬μ μΈ μ”μ†**μ΄μ **Front Controller(ν”„λ΅ νΈ μ»¨νΈλ΅¤λ¬)** ν¨ν„΄μ„ κµ¬ν„ν• ν΄λμ¤μ…λ‹λ‹¤. μ΄λ” ν΄λΌμ΄μ–ΈνΈμ λ¨λ“  HTTP μ”μ²­μ„ **κ°€μ¥ λ¨Όμ € λ°›κ³ ** μ „μ²΄ μ²λ¦¬ κ³Όμ •μ„ **μ¤‘μ•™μ—μ„ μ¤‘μ¬ν•κ³  λ¶„λ°°**ν•©λ‹λ‹¤.

---

## π“ μƒμ„Έ λ‚΄μ© (Deep Dive)

![[Pasted image 20251114234742.png]]
## π§­ DispatcherServletμ μ”μ²­ μ²λ¦¬ νλ¦„ (9λ‹¨κ³„)

DispatcherServletμ€ μ”μ²­μ„ λ°›μ€ ν›„, Spring IoC μ»¨ν…μ΄λ„μ— λ“±λ΅λ μ—¬λ¬ λ³΄μ΅° μ»΄ν¬λ„νΈ(HandlerMapping, HandlerAdapter λ“±)μ™€ ν‘λ ¥ν•μ—¬ μ”μ²­μ„ μ²λ¦¬ν•©λ‹λ‹¤.

|**#**|**λ‹¨κ³„**|**ν•µμ‹¬ κΈ°λ¥ λ° μ‚¬μ© μ»΄ν¬λ„νΈ**|
|---|---|---|
|**1.**|**μ”μ²­ μμ‹ **|Filter μ²΄μΈμ„ ν†µκ³Όν• `HttpServletRequest`μ™€ `HttpServletResponse` κ°μ²΄λ¥Ό μμ‹ ν•©λ‹λ‹¤.|
|**2.**|**ν•Έλ“¤λ¬ μ°ΎκΈ°**|**`HandlerMapping`**μ„ μ‚¬μ©ν•μ—¬ μ”μ²­ URLκ³Ό HTTP λ©”μ„λ“μ— **κ°€μ¥ μΌμΉν•λ” Controller λ©”μ„λ“(ν•Έλ“¤λ¬)**λ¥Ό κ²€μƒ‰ν•©λ‹λ‹¤.|
|**3.**|**μΈν„°μ…‰ν„° μ „μ²λ¦¬**|μ”μ²­μ— λ§¤ν•‘λ **`HandlerInterceptor`**λ“¤μ `preHandle()` λ©”μ„λ“λ¥Ό μμ„λ€λ΅ μ‹¤ν–‰ν•©λ‹λ‹¤. (Filter μ²΄μΈκ³Ό λ³„κ°)|
|**4.**|**ν•Έλ“¤λ¬ μ‹¤ν–‰ μ¤€λΉ„**|**`HandlerAdapter`**λ¥Ό μ‚¬μ©ν•μ—¬ μ°Ύμ€ ν•Έλ“¤λ¬(Controller λ©”μ„λ“)λ¥Ό μ‹¤ν–‰ν•  μ¤€λΉ„λ¥Ό ν•©λ‹λ‹¤.|
|**5.**|**λ°μ΄ν„° λ°”μΈλ”©**|`HandlerAdapter`κ°€ `HttpServletRequest`μ—μ„ λ°μ΄ν„°λ¥Ό κΊΌλ‚΄ `@RequestBody`, `@RequestParam` λ“± Controller λ©”μ„λ“μ **νλΌλ―Έν„° νƒ€μ…**μ— λ§κ² Java κ°μ²΄λ΅ λ³€ν™ν•κ³  μ£Όμ…ν•©λ‹λ‹¤.|
|**6.**|**ν•Έλ“¤λ¬ μ‹¤ν–‰**|Controller λ©”μ„λ“λ¥Ό μ‹¤ν–‰ν•κ³ , **`ModelAndView`** κ°μ²΄(View μ΄λ¦„κ³Ό Model λ°μ΄ν„°) λλ” μ‘λ‹µ λ°μ΄ν„°(JSON/XML)λ¥Ό λ°ν™λ°›μµλ‹λ‹¤.|
|**7.**|**μΈν„°μ…‰ν„° ν›„μ²λ¦¬**|`HandlerInterceptor`λ“¤μ `postHandle()` λ©”μ„λ“λ¥Ό μ—­μμΌλ΅ μ‹¤ν–‰ν•©λ‹λ‹¤. (View λ λ”λ§ μ§μ „)|
|**8.**|**View λ λ”λ§/μ‘λ‹µ**|**`ViewResolver`**λ¥Ό μ‚¬μ©ν•μ—¬ Controllerκ°€ λ°ν™ν• View μ΄λ¦„μ— ν•΄λ‹Ήν•λ” μ‹¤μ  View ν…ν”λ¦Ώ νμΌ μ„μΉλ¥Ό μ°Ύμµλ‹λ‹¤. μ΄ν›„ Viewμ— Model λ°μ΄ν„°λ¥Ό μ μ©ν•μ—¬ **μµμΆ… HTML**μ„ μƒμ„±ν•κ±°λ‚, JSON μ‘λ‹µμ„ λ°”λ΅ μ‘μ„±ν•©λ‹λ‹¤.|
|**9.**|**μΈν„°μ…‰ν„° μ™„λ£**|`HandlerInterceptor`λ“¤μ `afterCompletion()` λ©”μ„λ“λ¥Ό μ—­μμΌλ΅ μ‹¤ν–‰ν•©λ‹λ‹¤. (λ¨λ“  μ‘μ—… μ™„λ£ ν›„, μμ› μ •λ¦¬)|
### 1. π μ¤‘μ•™ μ§‘μ¤‘μ‹ μ”μ²­ μ²λ¦¬ (Front Controller)

- **λ¨λ“  μ”μ²­ μ ‘μ:** ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° λ“¤μ–΄μ¤λ” λ¨λ“  HTTP μ”μ²­μ„ κ°€μ¥ λ¨Όμ € λ°›μ•„μ„ μ²λ¦¬ν•©λ‹λ‹¤. μ¤ν”„λ§ MVC μ„¤μ • μ‹, μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ `web.xml`μ΄λ‚ Java μ„¤μ •μ„ ν†µν•΄ νΉμ • URL ν¨ν„΄(λ€λ¶€λ¶„ `/*` λλ” `/`)μ— λ§¤ν•‘λ©λ‹λ‹¤.
    
- **μ”μ²­/μ‘λ‹µ μ„μ„:** μ”μ²­μ„ μ§μ ‘ μ²λ¦¬ν•κΈ°λ³΄λ‹¤, μ²λ¦¬μ— ν•„μ”ν• μ μ ν• ν•Έλ“¤λ¬ λ° λ·° μ»΄ν¬λ„νΈλ¥Ό νΈμ¶ν•κ³  κ·Έ κ²°κ³Όλ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² μ „λ‹¬ν•λ” **μ¤‘μ¬μ μ—­ν• **μ„ ν•©λ‹λ‹¤.
    

---

### 2. π—ΊοΈ ν•Έλ“¤λ¬ λ§¤ν•‘ (Handler Mapping)

- μ”μ²­ URL(`μ: /users/list`)μ— λ”°λΌ ν•΄λ‹Ή μ”μ²­μ„ μ²λ¦¬ν•  μ μλ” **ν•Έλ“¤λ¬(Controller)**λ¥Ό μ°Ύμ•„λƒ…λ‹λ‹¤.
    
- **HandlerMapping** μ „λµ(μ: `@RequestMapping` μ–΄λ…Έν…μ΄μ… κΈ°λ°)μ„ μ‚¬μ©ν•μ—¬ μ”μ²­μ„ λ‹΄λ‹Ήν•  μ»¨νΈλ΅¤λ¬ λ©”μ„λ“λ¥Ό κ²°μ •ν•κ³ , μ΄λ¥Ό μ‹¤ν–‰ν•  μ μλ” **HandlerExecutionChain**μ„ μ¤€λΉ„ν•©λ‹λ‹¤.
    

---

### 3. π§© ν•Έλ“¤λ¬ μ‹¤ν–‰ λ° μ–΄λ‘ν… (Handler Execution & Adapter)

- μ”μ²­μ„ μ²λ¦¬ν•  ν•Έλ“¤λ¬(Controller λ©”μ„λ“)λ¥Ό μ°Ύμ€ ν›„, DispatcherServletμ€ **HandlerAdapter**μ—κ² μ΄ ν•Έλ“¤λ¬μ μ‹¤ν–‰μ„ μ„μ„ν•©λ‹λ‹¤.
    
- **HandlerAdapter**λ” λ‹¤μ–‘ν• ν•νƒμ ν•Έλ“¤λ¬(μ: `@Controller` μ–΄λ…Έν…μ΄μ…μ΄ λ¶™μ€ λ©”μ„λ“)λ¥Ό μ¤ν”„λ§ MVC ν‘μ¤€ λ°©μ‹μ— λ§κ² μ‹¤ν–‰ν•λ” **μ¤‘κ°„ λ‹¤λ¦¬ μ—­ν• **μ„ ν•©λ‹λ‹¤.
    

---

### 4. π—‚οΈ κ²°κ³Ό μ²λ¦¬ λ° λ·° ν•΄μ„ (View Resolution)

- ν•Έλ“¤λ¬ μ‹¤ν–‰ κ²°κ³Όλ΅ **ModelAndView** κ°μ²΄(λλ” λ°ν™λ λ¬Έμμ—΄)λ¥Ό λ°›μµλ‹λ‹¤. μ΄λ” **λ°μ΄ν„°(Model)**μ™€ **λ·°μ λ…Όλ¦¬μ  μ΄λ¦„(View Name)**μ„ ν¬ν•¨ν•©λ‹λ‹¤.
    
- **ViewResolver**μ—κ² λ·°μ λ…Όλ¦¬μ  μ΄λ¦„(μ: `"userList"`)μ„ μ „λ‹¬ν•μ—¬ μ‹¤μ  **λ λ”λ§μ„ λ‹΄λ‹Ήν•  λ·° κ°μ²΄**(JSP νμΌ, Thymeleaf ν…ν”λ¦Ώ λ“±)λ¥Ό μ°Ύμ•„λ‚΄λ„λ΅ μ„μ„ν•©λ‹λ‹¤.
    

---

### 5. π–ΌοΈ λ·° λ λ”λ§ λ° μµμΆ… μ‘λ‹µ

- ViewResolverκ°€ λ°ν™ν• **View κ°μ²΄**μ—κ² Model λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•μ—¬ μµμΆ… HTML νμ΄μ§€ μƒμ„±μ„ μ”μ²­ν•©λ‹λ‹¤.
    
- λ·°κ°€ λ λ”λ§μ„ μ™„λ£ν•λ©΄, DispatcherServletμ€ μƒμ„±λ μ‘λ‹µμ„ **μµμΆ…μ μΌλ΅ ν΄λΌμ΄μ–ΈνΈμ—κ² λ°ν™**ν•©λ‹λ‹¤.
    

---

μ΄λ¬ν• κ³Όμ •μ„ ν†µν•΄ DispatcherServletμ€ λ³µμ΅ν• μ›Ή μ”μ²­ μ²λ¦¬ κ³Όμ •μ„ κ° κΈ°λ¥λ³„ μ»΄ν¬λ„νΈλ΅ λ¶„λ¦¬ν•μ—¬ κ΄€λ¦¬ν•¨μΌλ΅μ¨, **λ†’μ€ ν™•μ¥μ„±κ³Ό μ μ—°μ„±**μ„ μ κ³µν•λ” MVC μ•„ν‚¤ν…μ²λ¥Ό κµ¬ν„ν•©λ‹λ‹¤.

